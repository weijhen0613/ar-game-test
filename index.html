<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Easter Egg Hunt</title>
  
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
  
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">

  <style>
    body { margin: 0; background: #222; overflow: hidden; font-family: 'Fredoka One', cursive; }
    #game-container { position: relative; width: 100vw; height: 100vh; display: none; }
    video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1); opacity: 0; }
    canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1); }
    #ui-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; display: flex; justify-content: center; align-items: flex-start; }
    #score-board {
      margin-top: 15px; padding: 10px 25px; background: rgba(255, 248, 220, 0.8); backdrop-filter: blur(5px); border-radius: 30px;
      font-size: 24px; color: #d35400; border: 3px solid #f1c40f; box-shadow: 0 4px 10px rgba(0,0,0,0.2); z-index: 10;
    }
    #error-log { position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(200, 0, 0, 0.9); color: white; font-size: 16px; padding: 15px; display: none; z-index: 9999; }
    
    /* === é–‹å§‹ç•«é¢ === */
    #start-screen {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background-color: #87CEEB; 
      background-image: url('./background.png'); 
      background-size: cover; 
      background-position: center;
      
      display: flex; 
      flex-direction: column; 
      justify-content: center; 
      align-items: center; 
      z-index: 20;
      /* é€™è£¡ä¸è¨­ padding äº†ï¼Œè®“èƒŒæ™¯æ»¿ç‰ˆ */
    }

    /* === ç™½è‰²å€å¡Šè¨­å®š === */
    .overlay { 
      background: rgba(255, 255, 255, 0.9); 
      padding: 30px 20px; /* ä¸Šä¸‹30px, å·¦å³20px */
      border-radius: 30px; 
      text-align: center; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.3); 
      
      /* é—œéµï¼šè¨­å®šå¯¬åº¦ 85%ï¼Œå·¦å³è‡ªå‹•ç•™ç™½ */
      width: 85%;      
      max-width: 400px; /* é›»è…¦ç‰ˆæœ€å¤§é™åˆ¶ */
      margin: 0 auto;   /* ç¢ºä¿ç½®ä¸­ */
    }
    
    h1 { color: #d35400; font-size: 36px; margin-bottom: 5px; text-shadow: 2px 2px 0px #f1c40f; line-height: 1.2; }
    
    /* å­—é«”è¨­å®š 22px */
    .icon-guide { 
      font-size: 22px; 
      margin: 15px 0; 
      text-align: left; 
      display: inline-block; 
      line-height: 1.8; 
      color: #555;
    }

    #start-btn {
      background: linear-gradient(to bottom, #f1c40f, #f39c12); border: none; border-radius: 50px; padding: 12px 40px; color: white; font-size: 24px; font-family: 'Fredoka One', cursive; cursor: pointer; box-shadow: 0 6px 0 #d35400, 0 10px 10px rgba(0,0,0,0.2); transition: transform 0.1s, box-shadow 0.1s; margin-top: 15px;
    }
    #start-btn:active { transform: translateY(4px); box-shadow: 0 2px 0 #d35400, 0 4px 4px rgba(0,0,0,0.2); }
  </style>
</head>
<body>

  <div id="start-screen">
    <div class="overlay">
      <h1>EASTER EGG<br>HUNT</h1>
      
      <div class="icon-guide">
        ğŸ–ï¸ Paper = Catch Egg (+10)<br>
        âœŠ Rock = Smash Rock (+5)<br>
        <span style="font-size: 14px; color: #e74c3c;">(Don't smash eggs!)</span>
      </div>
      
      <br>
      <button id="start-btn" onclick="startGame()">START</button>
    </div>
  </div>

  <div id="game-container">
    <video id="input_video" playsinline autoplay
